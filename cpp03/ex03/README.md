# CPP03_ex03

+ 가상 상속
	+ 다중 상속을 사용하는 경우, 다이아몬드 상속 구조를 띄게 될 수 있다. 이런 경우, 상위 클래스의 생성자와 소멸자가 두번 호출 될 수 있고, 변수도 두번 선언될 수 있다. 이런 상황을 가상 상속을 통해 해결할 수 있다. 다음과 같이 사용한다.
	```cpp
		class B : virtual public A {}
	```
	+ 가상 상속시 virtual base ptr이라는 offset을 가르키는 포인터가 생성되며, virtual로 상속된 클래스는 메모리 구조에서 제일 아래로 가게된다. 맨 아래로 간 이유는 중복을 막기 위해서이고, 위치를 맨아래에 고정시킴으로써 offset 정보를 계산할 수 있기 때문이다.
	+ 복잡하게 offset을 나눈 이유는 몇개의 상속자가 올지 모르기 때문이다. 예측을 할 수가 없으니 계산을 통해 위치를 알아내려고 만든 것이다.
	+ 이러한 다중상속으로 인한 가상 상속은 기존 데이터 크기보다 더 커질 수 있으며, offset을 이용한 자료를 찾는 과정 자체가 성능에 영향을 줄 수 있기 때문에 성능 저하를 야기할 수 있다.